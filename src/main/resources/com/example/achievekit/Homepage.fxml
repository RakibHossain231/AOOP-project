<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import java.lang.String?>

<BorderPane xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.achievekit.HomeController" stylesheets="@Homepagecss.css">

    <!-- ============== LEFT: SIDEBAR (SCROLLABLE) ============== -->
    <left>
        <!-- ScrollPane-à¦•à§‡ transparent à¦°à¦¾à¦–à¦¾à¦° à¦œà¦¨à§à¦¯ styleClass="sidebar-scroll" -->
        <ScrollPane prefWidth="280.0"
                    fitToWidth="true"
                    hbarPolicy="NEVER"
                    vbarPolicy="ALWAYS"
                    styleClass="sidebar-scroll">
            <content>
                <!-- à¦¤à§‹à¦®à¦¾à¦° à¦†à¦—à§‡à¦° à¦•à¦¾à¦²à¦¾à¦°/à¦—à§à¦°à§‡à¦¡à¦¿à§Ÿà§‡à¦¨à§à¦Ÿ à¦à¦‡ VBox-à¦à¦‡ à¦¥à¦¾à¦•à¦¬à§‡ -->
                <VBox prefWidth="280.0" styleClass="sidebar">
                    <children>

                        <!-- Sidebar Header -->
                        <VBox styleClass="sidebar-header">
                            <children>
                                <HBox alignment="CENTER_LEFT" spacing="12.0">
                                    <children>
                                        <Label styleClass="logo-icon" text="ðŸ“š"/>
                                        <VBox>
                                            <children>
                                                <Label styleClass="logo-text" text="AchieveKIT"/>
                                                <Label styleClass="logo-subtitle" text="Productivity Hub"/>
                                            </children>
                                        </VBox>
                                    </children>
                                    <padding>
                                        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0"/>
                                    </padding>
                                </HBox>
                            </children>
                        </VBox>

                        <!-- User Profile Section -->
                        <VBox styleClass="user-profile" fx:id="profileBox">
                            <children>
                                <HBox alignment="CENTER_LEFT" spacing="12.0">
                                    <children>
                                        <!-- à¦ªà§à¦°à¦¥à¦® à¦…à¦•à§à¦·à¦°à§‡à¦° à¦…à§à¦¯à¦¾à¦­à¦¾à¦Ÿà¦¾à¦° -->
                                        <Label styleClass="user-avatar" fx:id="avatarLabel" text="U"/>
                                        <VBox>
                                            <children>
                                                <Label styleClass="user-name" fx:id="sidebarName" text="John Student"/>
                                                <Label styleClass="user-status" fx:id="sidebarSubtext" text="Premium Member"/>
                                            </children>
                                        </VBox>
                                    </children>
                                    <padding>
                                        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0"/>
                                    </padding>
                                </HBox>
                            </children>
                        </VBox>

                        <!-- Main Navigation Menu -->
                        <VBox styleClass="nav-menu">
                            <children>
                                <Button fx:id="dashboardBtn" alignment="BASELINE_LEFT" graphicTextGap="12.0"
                                        mnemonicParsing="false" onAction="#showDashboard" prefWidth="240.0"
                                        styleClass="nav-item     " text="ðŸ  Dashboard"/>
                                <Button fx:id="pomodoroBtn" alignment="BASELINE_LEFT" graphicTextGap="12.0"
                                        mnemonicParsing="false" onAction="#showPomodoro" prefWidth="240.0" styleClass="nav-item"
                                        text="ðŸ… Pomodoro Timer"/>
                                <Button fx:id="tasksBtn" alignment="BASELINE_LEFT" graphicTextGap="12.0" mnemonicParsing="false"
                                        onAction="#showTasks" prefWidth="240.0" styleClass="nav-item" text="âœ… Task Manager"/>
                                <Button fx:id="expensesBtn" alignment="BASELINE_LEFT" graphicTextGap="12.0"
                                        mnemonicParsing="false" onAction="#showExpenses" prefWidth="240.0" styleClass="nav-item"
                                        text="ðŸ’° Expense Tracker"/>
                                <Button fx:id="chatBtn" alignment="BASELINE_LEFT" graphicTextGap="12.0" mnemonicParsing="false"
                                        onAction="#showChat" prefWidth="240.0" styleClass="nav-item" text="ðŸ’¬ Study Chat"/>

                                <!-- Separator -->
                                <Separator styleClass="nav-separator">
                                    <VBox.margin>
                                        <Insets bottom="10.0" left="20.0" right="20.0" top="10.0"/>
                                    </VBox.margin>
                                </Separator>

<!--                                &lt;!&ndash; Secondary Menu &ndash;&gt;-->
<!--                                <Button fx:id="analyticsBtn" alignment="BASELINE_LEFT" graphicTextGap="12.0"-->
<!--                                        mnemonicParsing="false" onAction="#showAnalytics" prefWidth="240.0"-->
<!--                                        styleClass="nav-item" text="ðŸ“Š Analytics"/>-->
<!--                                <Button fx:id="settingsBtn" alignment="BASELINE_LEFT" graphicTextGap="12.0"-->
<!--                                        mnemonicParsing="false" onAction="#showSettings" prefWidth="240.0" styleClass="nav-item"-->
<!--                                        text="âš™ï¸ Settings"/>-->
<!--                                <Button fx:id="tipsBtn" alignment="BASELINE_LEFT" graphicTextGap="12.0" mnemonicParsing="false"-->
<!--                                        onAction="#showTips" prefWidth="240.0" styleClass="nav-item" text="ðŸ’¡ Study Tips"/>-->
                            </children>
                            <padding>
                                <Insets bottom="10.0" left="20.0" right="20.0" top="10.0"/>
                            </padding>
                        </VBox>

                        <!-- à¦«à¦¾à¦à¦•à¦¾ à¦¸à§à¦ªà§‡à¦¸: à¦œà¦¾à§Ÿà¦—à¦¾ à¦¥à¦¾à¦•à¦²à§‡ à¦«à§à¦Ÿà¦¾à¦° à¦¨à¦¿à¦šà§‡ à¦¥à¦¾à¦•à¦¬à§‡ -->
                        <Region VBox.vgrow="ALWAYS"/>

                        <!-- Sidebar Footer -->
                        <VBox styleClass="sidebar-footer">
                            <children>
                                <Button fx:id="logoutBtn" alignment="BASELINE_LEFT" graphicTextGap="12.0"
                                        mnemonicParsing="false" onAction="#logout" prefWidth="240.0" styleClass="nav-item"
                                        text="ðŸšª Logout"/>
                            </children>
                            <padding>
                                <Insets bottom="20.0" left="20.0" right="20.0" top="10.0"/>
                            </padding>
                        </VBox>

                    </children>
                </VBox>
            </content>
        </ScrollPane>
    </left>

    <!-- ============== CENTER: MAIN CONTENT ============== -->
    <center>
        <!-- Main Content Area -->
        <VBox styleClass="main-content">
            <children>
                <!-- Top Header -->
                <HBox alignment="CENTER_LEFT" styleClass="top-header">
                    <children>
                        <VBox HBox.hgrow="ALWAYS">
                            <children>
                                <Label fx:id="pageTitle" styleClass="page-title" text="Dashboard"/>
                                <Label styleClass="page-subtitle"
                                       text="Welcome back! Here's your productivity overview"/>
                            </children>
                        </VBox>
<!--&lt;!&ndash;                        <HBox alignment="CENTER_RIGHT" spacing="10.0">&ndash;&gt;-->
<!--&lt;!&ndash;                            <children>&ndash;&gt;-->
<!--&lt;!&ndash;                                <Button fx:id="notificationBtn" mnemonicParsing="false" onAction="#showNotifications"&ndash;&gt;-->
<!--&lt;!&ndash;                                        styleClass="header-btn" text="ðŸ””"/>&ndash;&gt;-->
<!--&lt;!&ndash;                                <Button fx:id="searchBtn" mnemonicParsing="false" onAction="#showSearch"&ndash;&gt;-->
<!--&lt;!&ndash;                                        styleClass="header-btn" text="ðŸ”"/>&ndash;&gt;-->
<!--&lt;!&ndash;                            </children>&ndash;&gt;-->
<!--                        </HBox>-->
                    </children>
                    <padding>
                        <Insets bottom="20.0" left="30.0" right="30.0" top="20.0"/>
                    </padding>
                </HBox>

                <!-- Dashboard Content -->
                <ScrollPane fitToWidth="true" styleClass="content-scroll" VBox.vgrow="ALWAYS">
                    <content>
                        <VBox styleClass="dashboard-content">
                            <children>
                                <!-- Quick Stats Cards -->
                                <GridPane hgap="20.0" vgap="20.0" styleClass="stats-grid">
                                    <columnConstraints>
                                        <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0"/>
                                        <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0"/>
                                        <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0"/>
                                        <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0"/>
                                    </columnConstraints>
                                    <rowConstraints>
                                        <RowConstraints minHeight="10.0" vgrow="SOMETIMES"/>
                                    </rowConstraints>
                                    <children>
                                        <!-- Pomodoros Stat -->
                                        <VBox styleClass="stat-card" GridPane.columnIndex="0">
                                            <children>
                                                <HBox alignment="CENTER_LEFT">
                                                    <children>
                                                        <VBox HBox.hgrow="ALWAYS">
                                                            <children>
                                                                <Label styleClass="stat-label" text="Pomodoros Today"/>
                                                                <Label fx:id="pomodoroCount" styleClass="stat-value" text="4"/>
                                                            </children>
                                                        </VBox>
                                                        <Label styleClass="stat-icon" text="ðŸ…"/>
                                                    </children>
                                                </HBox>
                                            </children>
                                            <padding><Insets bottom="20.0" left="20.0" right="20.0" top="20.0"/></padding>
                                        </VBox>

                                        <!-- Tasks Stat -->
                                        <VBox styleClass="stat-card" GridPane.columnIndex="1">
                                            <children>
                                                <HBox alignment="CENTER_LEFT">
                                                    <children>
                                                        <VBox HBox.hgrow="ALWAYS">
                                                            <children>
                                                                <Label styleClass="stat-label" text="Tasks Completed"/>
                                                                <Label fx:id="taskCount" styleClass="stat-value" text="7/12"/>
                                                            </children>
                                                        </VBox>
                                                        <Label styleClass="stat-icon" text="âœ…"/>
                                                    </children>
                                                </HBox>
                                            </children>
                                            <padding><Insets bottom="20.0" left="20.0" right="20.0" top="20.0"/></padding>
                                        </VBox>

                                        <!-- Expenses Stat -->
                                        <VBox styleClass="stat-card" GridPane.columnIndex="2">
                                            <children>
                                                <HBox alignment="CENTER_LEFT">
                                                    <children>
                                                        <VBox HBox.hgrow="ALWAYS">
                                                            <children>
                                                                <Label styleClass="stat-label" text="Daily Spending"/>
                                                                <Label fx:id="expenseAmount" styleClass="stat-value" text="45.20$"/>
                                                            </children>
                                                        </VBox>
                                                        <Label styleClass="stat-icon" text="ðŸ’°"/>
                                                    </children>
                                                </HBox>
                                            </children>
                                            <padding><Insets bottom="20.0" left="20.0" right="20.0" top="20.0"/></padding>
                                        </VBox>

                                        <!-- Messages Stat -->
                                        <VBox styleClass="stat-card" GridPane.columnIndex="3">
                                            <children>
                                                <HBox alignment="CENTER_LEFT">
                                                    <children>
                                                        <VBox HBox.hgrow="ALWAYS">
                                                            <children>
                                                                <Label styleClass="stat-label" text="Messages"/>
                                                                <Label fx:id="messageCount" styleClass="stat-value" text="12"/>
                                                            </children>
                                                        </VBox>
                                                        <Label styleClass="stat-icon" text="ðŸ’¬"/>
                                                    </children>
                                                </HBox>
                                            </children>
                                            <padding><Insets bottom="20.0" left="20.0" right="20.0" top="20.0"/></padding>
                                        </VBox>
                                    </children>
                                </GridPane>

                                <!-- Feature Action Cards -->
                                <GridPane hgap="20.0" vgap="20.0" styleClass="feature-grid">
                                    <columnConstraints>
                                        <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0"/>
                                        <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0"/>
                                        <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0"/>
                                    </columnConstraints>
                                    <rowConstraints>
                                        <RowConstraints minHeight="10.0" vgrow="SOMETIMES"/>
                                    </rowConstraints>
                                    <children>
                                        <!-- Pomodoro Action Card -->
                                        <VBox alignment="CENTER" styleClass="feature-card" GridPane.columnIndex="0">
                                            <children>
                                                <Label styleClass="feature-icon" text="ðŸ…"/>
                                                <Label styleClass="feature-title" text="Start Pomodoro"/>
                                                <Label styleClass="feature-description" text="Begin a focused study session"/>
                                                <Button fx:id="startPomodoroBtn" mnemonicParsing="false" onAction="#startPomodoro"
                                                        styleClass="feature-btn,pomodoro-btn" text="Start 25min Session"/>
                                            </children>
                                            <padding><Insets bottom="30.0" left="30.0" right="30.0" top="30.0"/></padding>
                                        </VBox>

                                        <!-- Task Action Card -->
                                        <VBox alignment="CENTER" styleClass="feature-card" GridPane.columnIndex="1">
                                            <children>
                                                <Label styleClass="feature-icon" text="âœ…"/>
                                                <Label styleClass="feature-title" text="Quick Task"/>
                                                <Label styleClass="feature-description" text="Add or view your tasks"/>
                                                <Button fx:id="manageTasksBtn" mnemonicParsing="false" onAction="#manageTasks"
                                                        styleClass="feature-btn,task-btn" text="Manage Tasks"/>
                                            </children>
                                            <padding><Insets bottom="30.0" left="30.0" right="30.0" top="30.0"/></padding>
                                        </VBox>

                                        <!-- Expense Action Card -->
                                        <VBox alignment="CENTER" styleClass="feature-card" GridPane.columnIndex="2">
                                            <children>
                                                <Label styleClass="feature-icon" text="ðŸ’°"/>
                                                <Label styleClass="feature-title" text="Log Expense"/>
                                                <Label styleClass="feature-description" text="Track your spending"/>
                                                <Button fx:id="addExpenseBtn" mnemonicParsing="false" onAction="#addExpense"
                                                        styleClass="feature-btn,expense-btn" text="Add Expense"/>
                                            </children>
                                            <padding><Insets bottom="30.0" left="30.0" right="30.0" top="30.0"/></padding>
                                        </VBox>
                                    </children>
                                </GridPane>

                                <!-- Activity and Chat Section -->
                                <GridPane hgap="20.0" vgap="20.0" styleClass="activity-grid">
                                    <columnConstraints>
                                        <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0"/>
                                        <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0"/>
                                    </columnConstraints>
                                    <rowConstraints>
                                        <RowConstraints minHeight="10.0" vgrow="SOMETIMES"/>
                                    </rowConstraints>
                                    <children>
                                        <!-- Recent Activity -->
                                        <VBox styleClass="activity-card" GridPane.columnIndex="0">
                                            <children>
                                                <Label styleClass="section-title" text="Recent Activity"/>
                                                <VBox fx:id="activityList" styleClass="activity-list" VBox.vgrow="ALWAYS">
                                                    <children>
                                                        <HBox styleClass="activity-item">
                                                            <children>
                                                                <Label styleClass="activity-icon" text="ðŸ…"/>
                                                                <VBox HBox.hgrow="ALWAYS">
                                                                    <children>
                                                                        <Label styleClass="activity-text" text="Completed Pomodoro session"/>
                                                                        <Label styleClass="activity-time" text="2 minutes ago"/>
                                                                    </children>
                                                                </VBox>
                                                            </children>
                                                        </HBox>
                                                        <HBox styleClass="activity-item">
                                                            <children>
                                                                <Label styleClass="activity-icon" text="âœ…"/>
                                                                <VBox HBox.hgrow="ALWAYS">
                                                                    <children>
                                                                        <Label styleClass="activity-text" text="Marked 'Study for Math exam' as done"/>
                                                                        <Label styleClass="activity-time" text="15 minutes ago"/>
                                                                    </children>
                                                                </VBox>
                                                            </children>
                                                        </HBox>
                                                        <HBox styleClass="activity-item">
                                                            <children>
                                                                <Label styleClass="activity-icon" text="ðŸ’°"/>
                                                                <VBox HBox.hgrow="ALWAYS">
                                                                    <children>
                                                                        <Label styleClass="activity-text" text="Added expense: Coffee - $4.50"/>
                                                                        <Label styleClass="activity-time" text="1 hour ago"/>
                                                                    </children>
                                                                </VBox>
                                                            </children>
                                                        </HBox>
                                                    </children>
                                                </VBox>
                                            </children>
                                            <padding><Insets bottom="20.0" left="20.0" right="20.0" top="20.0"/></padding>
                                        </VBox>

                                        <!-- Study Chat Preview -->
                                        <VBox styleClass="chat-card" GridPane.columnIndex="1">
                                            <children>
                                                <Label styleClass="section-title" text="Study Chat"/>
                                                <VBox fx:id="chatPreview" styleClass="chat-preview" VBox.vgrow="ALWAYS">
                                                    <children>
                                                        <HBox styleClass="chat-message">
                                                            <children>
                                                                <Label styleClass="chat-avatar" text="AM"/>
                                                                <VBox HBox.hgrow="ALWAYS">
                                                                    <children>
                                                                        <Label styleClass="chat-text" text="Alex M: Anyone up for a study group session?"/>
                                                                        <Label styleClass="chat-time" text="5 min ago"/>
                                                                    </children>
                                                                </VBox>
                                                            </children>
                                                        </HBox>
                                                        <HBox styleClass="chat-message">
                                                            <children>
                                                                <Label styleClass="chat-avatar" text="SK"/>
                                                                <VBox HBox.hgrow="ALWAYS">
                                                                    <children>
                                                                        <Label styleClass="chat-text" text="Sarah K: I'm in! Working on calculus."/>
                                                                        <Label styleClass="chat-time" text="3 min ago"/>
                                                                    </children>
                                                                </VBox>
                                                            </children>
                                                        </HBox>
                                                    </children>
                                                </VBox>
                                                <Button fx:id="joinChatBtn" mnemonicParsing="false" onAction="#joinChat"
                                                        styleClass="feature-btn,chat-btn" text="Join Conversation"/>
                                            </children>
                                            <padding><Insets bottom="20.0" left="20.0" right="20.0" top="20.0"/></padding>
                                        </VBox>
                                    </children>
                                </GridPane>
                            </children>
                            <padding>
                                <Insets bottom="30.0" left="30.0" right="30.0" top="20.0"/>
                            </padding>
                        </VBox>
                    </content>
                </ScrollPane>
            </children>
        </VBox>
    </center>

    <styleClass>
        <String fx:value="main-window"/>
    </styleClass>
</BorderPane>
